-- 建立資料庫（與 db.js 對應）
CREATE DATABASE IF NOT EXISTS eshop
  CHARACTER SET utf8mb4
  COLLATE utf8mb4_unicode_ci;

USE eshop;

-- 商品表（對應你前端欄位）
CREATE TABLE IF NOT EXISTS Product (
  ProductID   VARCHAR(50)  PRIMARY KEY,     -- 商品編號 id
  ProductName VARCHAR(100) NOT NULL,        -- 商品名稱 name
  Price       DECIMAL(10,2) NOT NULL,       -- 售價 price
  Quantity    INT NOT NULL DEFAULT 0        -- 庫存 stock
);

-- （可選）訂單主表
CREATE TABLE IF NOT EXISTS `Order` (
  OrderID   VARCHAR(20) PRIMARY KEY,
  MemberID  VARCHAR(20) NOT NULL,
  Price     DECIMAL(10,2) NOT NULL,
  PayStatus TINYINT(1) NOT NULL DEFAULT 0
);

-- （可選）訂單明細
CREATE TABLE IF NOT EXISTS OrderDetail (
  OrderItemSN INT AUTO_INCREMENT PRIMARY KEY,
  OrderID     VARCHAR(20) NOT NULL,
  ProductID   VARCHAR(50) NOT NULL,
  Quantity    INT NOT NULL,
  StandPrice  DECIMAL(10,2) NOT NULL,
  ItemPrice   DECIMAL(10,2) NOT NULL,
  FOREIGN KEY (OrderID)  REFERENCES `Order`(OrderID),
  FOREIGN KEY (ProductID) REFERENCES Product(ProductID)
);
